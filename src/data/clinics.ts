import { Clinic } from '@/types/clinic'

export const CLINICS: Clinic[] = [
  {
    id: 'bundle-medical',
    name: 'Bundle Medical & Sportsworld Walk-In Clinic',
    address: '50 Sportsworld Crossing Rd Unit E1-03, Kitchener ON N2P 0A4',
    city: 'Kitchener',
    phone: '519-957-2057',
    hours: {
      monday: '9:00-16:00',
      tuesday: '9:00-17:00',
      wednesday: '9:00-17:00',
      thursday: '9:00-17:00',
      friday: '9:00-16:00',
      saturday: 'Closed',
      sunday: 'Closed',
    },
    latitude: 43.4097,
    longitude: -80.4054,
    waitTime: 25,
    patientsInQueue: 4,
    isOpen: true,
    isPriority: true,
  },
  {
    id: 'benton-medical',
    name: 'Benton Medical Clinic',
    address: '51 Benton St, Kitchener ON N2G 3H1',
    city: 'Kitchener',
    phone: '226-240-3014',
    website: 'bentonmedicalclinic.com',
    hours: {
      monday: '8:00-18:00',
      tuesday: '8:00-18:00',
      wednesday: '8:00-18:00',
      thursday: '8:00-18:00',
      friday: '8:00-18:00',
      saturday: '9:00-15:00',
      sunday: 'Closed',
    },
    latitude: 43.4516,
    longitude: -80.4925,
    waitTime: 35,
    patientsInQueue: 6,
    isOpen: true,
  },
  {
    id: 'kwic-walkin',
    name: 'KWIC Walk-In Clinic',
    address: '5 Manitou Dr, Entrance A, Kitchener ON N2C 2J6',
    city: 'Kitchener',
    phone: '519-725-1111',
    website: 'kwicwalkin.ca',
    hours: {
      monday: '9:00-17:00',
      tuesday: '9:00-17:00',
      wednesday: '9:00-17:00',
      thursday: '9:00-17:00',
      friday: '9:00-17:00',
      saturday: 'Closed',
      sunday: '10:00-14:00',
    },
    latitude: 43.4183,
    longitude: -80.4456,
    waitTime: 45,
    patientsInQueue: 8,
    isOpen: true,
  },
  {
    id: 'medicare-walkin',
    name: 'Medicare Walk-In Clinic & Family Practice',
    address: '720 Westmount Rd E Unit 4, Kitchener ON N2E 1J2',
    city: 'Kitchener',
    phone: '519-900-8950',
    website: 'medicareclinicandpharmacy.com',
    hours: {
      monday: '9:00-20:00',
      tuesday: '9:00-20:00',
      wednesday: '9:00-20:00',
      thursday: '9:00-20:00',
      friday: '9:00-20:00',
      saturday: '9:00-17:00',
      sunday: '9:00-17:00',
    },
    latitude: 43.4378,
    longitude: -80.4789,
    waitTime: 20,
    patientsInQueue: 3,
    isOpen: true,
  },
  {
    id: 'ottawa-river',
    name: 'Ottawa & River Walk-In Clinic',
    address: '1020 Ottawa St N Unit 110, Kitchener ON N2A 3Z3',
    city: 'Kitchener',
    phone: '647-360-2218',
    website: 'ottawariverclinic.com',
    hours: {
      monday: '9:00-17:00',
      tuesday: '9:00-19:00',
      wednesday: '12:30-17:00',
      thursday: '12:30-17:00',
      friday: '9:00-17:00',
      saturday: '10:00-15:00',
      sunday: 'Closed',
    },
    latitude: 43.4678,
    longitude: -80.4567,
    waitTime: 55,
    patientsInQueue: 10,
    isOpen: true,
  },
  {
    id: 'kw-healthy-living',
    name: 'KW Healthy Living Clinic',
    address: '1360 Weber St E, Kitchener ON N2A 1C4',
    city: 'Kitchener',
    phone: '519-340-3043',
    website: 'kwhlclinic.com',
    hours: {
      monday: '10:00-16:00',
      tuesday: '10:00-16:00',
      wednesday: '10:00-16:00',
      thursday: '10:00-16:00',
      friday: '10:00-16:00',
      saturday: '10:00-16:00',
      sunday: '10:00-16:00',
    },
    latitude: 43.4556,
    longitude: -80.4234,
    waitTime: 30,
    patientsInQueue: 5,
    isOpen: true,
  },
  {
    id: 'waterloo-walkin',
    name: 'Waterloo Walk-In Clinic',
    address: '170 University Ave W Unit 13, Waterloo ON N2L 3E9',
    city: 'Waterloo',
    phone: '519-725-1514',
    website: 'waterlooclinic.com',
    hours: {
      monday: '9:00-20:00',
      tuesday: '9:00-20:00',
      wednesday: '9:00-20:00',
      thursday: '9:00-20:00',
      friday: '9:00-20:00',
      saturday: '10:00-15:00',
      sunday: '10:00-15:00',
    },
    latitude: 43.4723,
    longitude: -80.5234,
    waitTime: 40,
    patientsInQueue: 7,
    isOpen: true,
  },
  {
    id: 'curex-medical',
    name: 'Curex Medical Centre',
    address: '380 King St N Unit 5, Waterloo ON N2J 2Z3',
    city: 'Waterloo',
    phone: '519-579-8858',
    website: 'curexmedicalcenter.com',
    hours: {
      monday: '9:00-17:00',
      tuesday: '9:00-17:00',
      wednesday: '9:00-17:00',
      thursday: '9:00-17:00',
      friday: '9:00-17:00',
      saturday: '9:00-17:00',
      sunday: '9:00-17:00',
    },
    latitude: 43.4789,
    longitude: -80.5156,
    waitTime: 15,
    patientsInQueue: 2,
    isOpen: true,
  },
  {
    id: 'spruce-medical',
    name: 'Spruce Medical Walk-In Clinic & Family Practice',
    address: '318 Spruce St Unit 106, Waterloo ON N2L 0E9',
    city: 'Waterloo',
    phone: '519-725-1111',
    website: 'sprucemedical.ca',
    hours: {
      monday: '9:00-17:00',
      tuesday: '9:00-17:00',
      wednesday: '9:00-14:00',
      thursday: '9:00-16:00',
      friday: '9:00-14:00',
      saturday: '10:00-15:00',
      sunday: 'Closed',
    },
    latitude: 43.4612,
    longitude: -80.5289,
    waitTime: 50,
    patientsInQueue: 9,
    isOpen: true,
  },
  {
    id: 'onyx-urgent',
    name: 'Onyx Urgent Care Clinic',
    address: '580 Lancaster St W, Kitchener ON N2K 1M3',
    city: 'Kitchener',
    phone: '519-896-6699',
    website: 'onyxurgentcare.com',
    hours: {
      monday: '17:00-21:00',
      tuesday: '17:00-21:00',
      wednesday: '17:00-21:00',
      thursday: '17:00-21:00',
      friday: '17:00-21:00',
      saturday: 'Closed',
      sunday: '15:00-19:00',
    },
    latitude: 43.4534,
    longitude: -80.4867,
    waitTime: 60,
    patientsInQueue: 11,
    isOpen: false,
  },
  {
    id: 'waterloo-stjacobs',
    name: 'Waterloo St Jacobs Urgent Care Clinic',
    address: '820 King St N, Unit 1, Waterloo ON',
    city: 'Waterloo',
    phone: '519-206-0211',
    website: 'urgentcarewaterloo.ca',
    hours: {
      monday: '9:30-17:30',
      tuesday: '9:00-20:00',
      wednesday: '9:30-17:30',
      thursday: '9:30-17:30',
      friday: '9:00-18:00',
      saturday: '10:00-15:00',
      sunday: 'Closed',
    },
    latitude: 43.4934,
    longitude: -80.5178,
    waitTime: 35,
    patientsInQueue: 6,
    isOpen: true,
  },
  {
    id: 'kw-urgent-victoria',
    name: 'K-W Urgent Care Clinics',
    address: '751 Victoria St S, Kitchener ON N2M 5N4',
    city: 'Kitchener',
    phone: '519-745-2273',
    website: 'kwurgentcare.ca',
    hours: {
      monday: '18:00-22:00',
      tuesday: '18:00-22:00',
      wednesday: '18:00-22:00',
      thursday: '18:00-22:00',
      friday: '18:00-22:00',
      saturday: '18:00-22:00',
      sunday: '18:00-22:00',
    },
    latitude: 43.4367,
    longitude: -80.4823,
    waitTime: 70,
    patientsInQueue: 12,
    isOpen: false,
  },
  {
    id: 'laurentian-walkin',
    name: 'Laurentian Walk-In Clinic',
    address: '750 Ottawa St S, Kitchener ON',
    city: 'Kitchener',
    phone: '519-570-3174',
    hours: {
      monday: '9:00-17:00',
      tuesday: '9:00-17:00',
      wednesday: '9:00-17:00',
      thursday: '9:00-17:00',
      friday: '9:00-17:00',
      saturday: 'Closed',
      sunday: 'Closed',
    },
    latitude: 43.4289,
    longitude: -80.4612,
    waitTime: 25,
    patientsInQueue: 4,
    isOpen: true,
  },
  {
    id: 'kw-boardwalk',
    name: 'K-W Walk-In Clinic (The Boardwalk)',
    address: '100 The Boardwalk, Kitchener ON',
    city: 'Kitchener',
    phone: '519-279-4098',
    website: 'waterlooclinic.com',
    hours: {
      monday: '9:00-17:00',
      tuesday: '9:00-17:00',
      wednesday: '9:00-17:00',
      thursday: '9:00-17:00',
      friday: '9:00-17:00',
      saturday: '9:00-17:00',
      sunday: '9:00-17:00',
    },
    latitude: 43.4156,
    longitude: -80.4523,
    waitTime: 30,
    patientsInQueue: 5,
    isOpen: true,
  },
  {
    id: 'magnolia-health',
    name: 'Magnolia Health Center',
    address: '537 Frederick St, Kitchener ON N2B 2A7',
    city: 'Kitchener',
    phone: '519-804-4190',
    hours: {
      monday: '9:00-17:00',
      tuesday: '9:00-17:00',
      wednesday: '9:00-17:00',
      thursday: '9:00-17:00',
      friday: '9:00-17:00',
      saturday: 'Closed',
      sunday: 'Closed',
    },
    latitude: 43.4478,
    longitude: -80.4734,
    waitTime: 40,
    patientsInQueue: 7,
    isOpen: true,
  },
  {
    id: 'eastwood-pharmacy',
    name: 'Eastwood Pharmacy and Walk-In Clinic',
    address: '120 Ottawa St N Unit 123, Kitchener ON N2H 3K5',
    city: 'Kitchener',
    phone: '519-570-2777',
    hours: {
      monday: '9:00-17:00',
      tuesday: '9:00-17:00',
      wednesday: '9:00-17:00',
      thursday: '9:00-17:00',
      friday: '9:00-17:00',
      saturday: 'Closed',
      sunday: 'Closed',
    },
    latitude: 43.4534,
    longitude: -80.4689,
    waitTime: 20,
    patientsInQueue: 3,
    isOpen: true,
  },
]

// Default user location (Kitchener, ON - Downtown area)
export const DEFAULT_LOCATION = {
  latitude: 43.4500,
  longitude: -80.4833,
  city: 'Kitchener, ON',
}

// Calculate distance between two coordinates (Haversine formula)
export function calculateDistance(
  lat1: number,
  lon1: number,
  lat2: number,
  lon2: number
): number {
  const R = 6371 // Earth's radius in km
  const dLat = ((lat2 - lat1) * Math.PI) / 180
  const dLon = ((lon2 - lon1) * Math.PI) / 180
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos((lat1 * Math.PI) / 180) *
      Math.cos((lat2 * Math.PI) / 180) *
      Math.sin(dLon / 2) *
      Math.sin(dLon / 2)
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))
  return R * c
}

// Get clinics with calculated distances
export function getClinicsWithDistance(
  userLat: number,
  userLon: number
): Clinic[] {
  return CLINICS.map(clinic => ({
    ...clinic,
    distance: calculateDistance(userLat, userLon, clinic.latitude, clinic.longitude),
  })).sort((a, b) => {
    // Priority clinic first
    if (a.isPriority) return -1
    if (b.isPriority) return 1
    // Then by distance
    return (a.distance || 0) - (b.distance || 0)
  })
}
